import React, { useState } from "react";
import Input from "../Input";
import styles from "./index.module.scss";

function PasswordInput({
    label = "Password",
    name,
    onChange,
    value,
    ...inputProps
}) {
    const [visible, setVisible] = useState(false);
    function handleEyeClick() {
        setVisible((prevState) => !prevState);
    }

    function getEyeSVG() {
        return visible ? (
            <svg
                width="36px"
                height="36px"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill="currentColor"
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M18.7929 18.5C18.9882 18.6953 19.3048 18.6953 19.5 18.5C19.6953 18.3048 19.6953 17.9882 19.5 17.7929L17.4721 15.765C18.6338 14.8412 19.572 13.8136 20.188 13.0657C20.5762 12.5944 20.7703 12.3588 20.7703 12C20.7703 11.6412 20.5762 11.4055 20.188 10.9343C18.768 9.21013 15.6357 5.99999 12 5.99999C10.7948 5.99999 9.64487 6.35275 8.59433 6.88721L6.20714 4.50002C6.01188 4.30476 5.6953 4.30476 5.50004 4.50002C5.30478 4.69529 5.30478 5.01187 5.50004 5.20713L18.7929 18.5ZM9.34245 7.63532C10.1976 7.23989 11.0921 6.99999 12 6.99999C13.5258 6.99999 15.0139 7.67758 16.3409 8.63232C17.66 9.58137 18.7359 10.7442 19.4162 11.57C19.5159 11.6912 19.5904 11.7818 19.6522 11.8615C19.701 11.9246 19.7322 11.9685 19.7525 12C19.7322 12.0315 19.701 12.0754 19.6522 12.1385C19.5904 12.2182 19.5159 12.3088 19.4162 12.4299C18.8095 13.1665 17.8881 14.1711 16.7601 15.053L14.7962 13.0891C14.9278 12.7515 15 12.3842 15 12C15 10.3431 13.6569 8.99999 12 8.99999C11.6158 8.99999 11.2485 9.0722 10.9109 9.20379L9.34245 7.63532ZM11.7258 10.0186L13.9814 12.2742C13.9936 12.1846 14 12.093 14 12C14 10.8954 13.1046 9.99999 12 9.99999C11.907 9.99999 11.8154 10.0063 11.7258 10.0186ZM15.0498 16.1712L15.7871 16.9085C14.636 17.5555 13.3528 18 12 18C8.36428 18 5.23207 14.7898 3.81198 13.0657C3.42382 12.5944 3.22974 12.3588 3.22974 12C3.22974 11.6412 3.42382 11.4055 3.81198 10.9343C4.48539 10.1167 5.54381 8.96492 6.85835 7.97978L7.57324 8.69467C6.29331 9.6319 5.24926 10.7622 4.58387 11.57C4.48409 11.6912 4.40958 11.7818 4.34785 11.8615C4.29899 11.9246 4.26786 11.9685 4.24756 12C4.26786 12.0315 4.29899 12.0754 4.34785 12.1385C4.40958 12.2182 4.48409 12.3088 4.58386 12.4299C5.26409 13.2558 6.34002 14.4186 7.65914 15.3677C8.98616 16.3224 10.4742 17 12 17C13.0477 17 14.0776 16.6805 15.0498 16.1712ZM9 12C9 11.4595 9.14292 10.9524 9.39303 10.5145L10.1406 11.262C10.0499 11.4903 10 11.7393 10 12C10 13.1046 10.8954 14 12 14C12.2606 14 12.5097 13.9501 12.738 13.8594L13.4855 14.607C13.0476 14.8571 12.5405 15 12 15C10.3431 15 9 13.6568 9 12Z"
                />
            </svg>
        ) : (
            <svg
                width="36px"
                height="36px"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill="currentColor"
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M19.4162 12.43C18.7359 13.2558 17.66 14.4186 16.3409 15.3677C15.0139 16.3224 13.5258 17 12 17C10.4742 17 8.98616 16.3224 7.65914 15.3677C6.34002 14.4186 5.26409 13.2558 4.58386 12.43C4.48409 12.3088 4.40958 12.2182 4.34785 12.1385C4.29899 12.0754 4.26786 12.0315 4.24756 12C4.26786 11.9685 4.29899 11.9246 4.34785 11.8615C4.40958 11.7818 4.48409 11.6912 4.58387 11.57C5.26409 10.7442 6.34002 9.58138 7.65914 8.63233C8.98616 7.6776 10.4742 7 12 7C13.5258 7 15.0139 7.6776 16.3409 8.63233C17.66 9.58138 18.7359 10.7442 19.4162 11.57C19.5159 11.6912 19.5904 11.7818 19.6522 11.8615C19.701 11.9246 19.7322 11.9685 19.7525 12C19.7322 12.0315 19.701 12.0754 19.6522 12.1385C19.5904 12.2182 19.5159 12.3088 19.4162 12.43ZM20.188 10.9343C20.5762 11.4056 20.7703 11.6412 20.7703 12C20.7703 12.3588 20.5762 12.5944 20.188 13.0657C18.768 14.7899 15.6357 18 12 18C8.36428 18 5.23207 14.7899 3.81198 13.0657C3.42382 12.5944 3.22974 12.3588 3.22974 12C3.22974 11.6412 3.42382 11.4056 3.81198 10.9343C5.23207 9.21014 8.36428 6 12 6C15.6357 6 18.768 9.21014 20.188 10.9343ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12ZM15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z"
                />
            </svg>
        );
    }

    return (
        <div className={styles.PasswordInput}>
            <Input
                label={label}
                name={name}
                type={visible ? "text" : "password"}
                autoComplete="off"
                onChange={onChange}
                value={value}
                {...inputProps}
            />
            <div className={styles.Eye} onClick={handleEyeClick}>
                {getEyeSVG()}
            </div>
        </div>
    );
}

export default PasswordInput;
